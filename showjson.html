
<html>

<head>
    <script language="JavaScript">
        function loadXMLDoc() {
            var xmlhttp;
            if (window.XMLHttpRequest) {
                //code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                //code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }

            xmlhttp.onreadystatechange = function () {
                
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {

                    var book = JSON.parse(xmlhttp.responseText);
                    var book = book.books;
                    txt = "";

                    for (i = 0; i < book.length; i++) {
                    var x = book[i];
                    {
                        try {
                            txt = txt + "<p><font style=font-size:19px;><b>" + x.book.title + "</b></font></p>";
                        } catch (er) {
                            txt = txt + "<p></p>";
                        }
                    } {
                        try {
                            txt = txt + "<p>By " + x.book.author + ", " + x.book.publisher + "</p>";
                        } catch (er) {
                            txt = txt + "<p></p>";
                        }
                    } {
                        try {
                            txt = txt + "<p><img src=" + x.book.cover + " height='256'></p>";
                        } catch (er) {
                            txt = txt + "<p></p>";
                        }
                    } {
                        try {
                            txt = txt + "<p>" + x.book.blurb + "</p>";
                        } catch (er) {
                            txt = txt + "<p></p>";
                        }
                    }
                }
                document.getElementById('myDiv').innerHTML = txt;
                }
            }

            xmlhttp.open("GET", "http://angsila.cs.buu.ac.th/~wittawas/592/887371/labs/get_json.php", true);
            xmlhttp.send();
        }
    </script>
</head>

<body>
    <div id="myDiv">
        <center><h2 >
            Book
        </h2>
        <button type="button" class="submit" onclick="loadXMLDoc()">
            GET
    </button></center>
    </div>
</body>

</html>